{% load static %}
<link rel="stylesheet" href="{% static 'css/login.css' %}">

<div class="login-container">
    <h2 class="login-title">ç”¨æˆ·ç™»å½•</h2>

    <!-- ğŸš¨ ç™»å½•å¤±è´¥æç¤ºä¿¡æ¯ -->
    {% if messages %}
        <ul class="error-messages">
            {% for message in messages %}
                <li style="color:red;">{{ message }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <div class="role-tabs">
        <button type="button" class="tab active" data-role="speaker">æ¼”è®²è€…</button>
        <button type="button" class="tab" data-role="organizer">ç»„ç»‡è€…</button>
        <button type="button" class="tab" data-role="audience">å¬ä¼—</button>
    </div>

    <form method="post">
        {% csrf_token %}
        <input type="hidden" name="role" value="speaker">

        <div class="form-group">
            <label for="username">ç”¨æˆ·å</label>
            <input type="text" id="username" name="username" placeholder="è¯·è¾“å…¥ç”¨æˆ·å">
        </div>

        <div class="form-group">
            <label for="password">å¯†ç </label>
            <input type="password" id="password" name="password" placeholder="è¯·è¾“å…¥å¯†ç ">
        </div>

        <button type="submit">ç™» å½•</button>
    </form>

    <p class="register-link">æ²¡æœ‰è´¦å·ï¼Ÿ<a href="{% url 'register' %}">ç«‹å³æ³¨å†Œ</a></p>
</div>

<script>
    // åˆ‡æ¢è§’è‰²é€‰é¡¹å¡
    document.querySelectorAll('.tab').forEach(tab => {
        tab.addEventListener('click', function() {
            // ç§»é™¤æ‰€æœ‰é€‰é¡¹å¡çš„activeç±»
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            // ä¸ºå½“å‰ç‚¹å‡»çš„é€‰é¡¹å¡æ·»åŠ activeç±»
            this.classList.add('active');
            // æ›´æ–°éšè—çš„roleå­—æ®µå€¼
            document.querySelector('input[name="role"]').value = this.dataset.role;
        });
    });
</script>
